<div class="skoop mat-typography">
  <h1>My skill profile</h1>
  <div class="skoopToolbar">
    <button mat-raised-button (click)="openNewDialog()" aria-label="Add skill">Add skill</button>
    <!-- TODO: Searching, filtering and sorting elements could be added here -->
  </div>
  <div *ngIf="errorMessage" class="skoopErrorMessage">{{errorMessage}}</div>

  <app-skill-card *ngFor="let userSkill of userSkills" [userSkill]="userSkill">
    <div fxFlex="none" buttonContent>
      <button mat-icon-button (click)="getCoaches(userSkill)" title="Find coaches" aria-label="Find coaches"
              class="skoopCard__findCoachesButton">
        <mat-icon>school</mat-icon>
      </button>
      <button mat-icon-button (click)="openEditDialog(userSkill)" title="Edit" aria-label="Edit">
        <mat-icon>edit</mat-icon>
      </button>
      <button mat-icon-button (click)="delete(userSkill)" title="Delete" aria-label="Delete">
        <mat-icon>delete</mat-icon>
      </button>
    </div>
    <div fxLayout="row" *ngIf="userSkill.coaches" class="skoopCard__coaches" coachContent>
      <mat-icon fxFlex="none" aria-label="Coaches" class="skoopCard__coachesIcon">school</mat-icon>
      <div fxFlex *ngIf="userSkill.coaches.length === 0">No coaches found.</div>
      <div fxFlex="none" *ngFor="let coach of userSkill.coaches; last as isLast">
        {{ coach.firstName }} {{ coach.lastName }} ({{ coach.userName }})<span *ngIf="!isLast">,&nbsp;</span>
      </div>
    </div>
  </app-skill-card>
</div>
